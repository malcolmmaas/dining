<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" type="image/x-icon" href="https://aosc.umd.edu/sites/default/files/favicon%20%281%29.ico">
    <title>UMD Dining Swipe Plotter</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>

    <script type="module" src="index.js"></script>
    <!-- <script type="module">
      import { copyCode } from "/index.js";
      function testtt() {
        console.log('ACCCCCCCCCCcc')
        return copyCode()
      }
    </script> -->
  </head>

  <body>

    <h3>
        How to generate cool dining hall swipe plots:
    
    </h3>
    
    <!--
        make paste box bigger
        maybe explain what tab does?
    
    
    -->
    
    
    </p>
        <br>
        Click "Copy code" below.
        <br>
        Go to the <a href="https://dsonline2.umd.edu/dpmsonline/home.do" target="_blank">dining online services</a>.
        <br>
        Click "View Current Plan and Transactions".
        <br>
        By default, only the past week of swipes is shown in the table under "Balance Transactions". If you want to change that, adjust the "From" and "To" dates, then click the search icon. Wait for the page to load.
        <br>
        On Windows, press ctrl+shift+j. On Mac, press command+option+j. A bunch of stuff comes up; you can ignore it.
        <br>
        On Windows, press ctrl+v. On Mac, press command+v. This pastes the code you copied.
        <br>
        Press enter and then press tab. Wait a couple seconds. If a red error pops up, paste the code and try again.
        <br>
        Your swipe data was just copied to your clipboard. Paste it below, where it says "Paste here", then click "Generate plot".
    <p>
    
    <!--
        console.log('Press the tab key')
                setTimeout(async()=>
                await navigator.clipboard.writeText(JSON.stringify($('#balance-trans').DataTable().rows().data())), 3000)
    -->
    <!-- <form name="copyform" onclick="copyCode()"> -->
      <button type="submit" onclick="copyCode()">Copy code</button>
    <!-- </form> -->
    <span id='copyIndicator'></span>
    <br>
    <br>
    <form name="theform" onsubmit="return false">
        <label for="copied">Paste data here:</label>
        <input type="text" id="copied" name="copied" style="width: 600px;"><br><br>
        <!-- <input type="submit" value="Generate plot"> -->
        <button type="submit" onclick="generatePlot()">Generate plot</button>
        <button type="submit" onclick="submitToDb()">Submit to database</button>
        <br>
        <button type="submit" onclick="logData()">Log all data</button>
        <br>
        <input id="autocomplete" name="name" type="text"/><br>
        <button type="submit" onclick="getData()">Get Data</button>
    </form>
    
    
    <div id='plot'></div>
    
    </body>
  
</html>
